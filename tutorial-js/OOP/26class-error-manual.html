<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Membuat Class Error Manual</title>
</head>
<body>
<!-- 
    Membuat Class Error Manual
    - Walaupun JavaScript sudah memiliki standard class Error
    - Namun alangkah baiknya, kita membedakan tiap jenis error 
    - Untuk membuat error sendiri secara manual sangatlah mudah, cukup membuat class turunan dari class Error
    - Dan jangan lupa tambahkan parameter messege, agar bisa dikirimkan di constructor class Error
 -->
<script>
    // class error manual
    class ValidationError extends Error {
        constructor (message, field) {
            super(message)
            this.field = field
        }
    }
    // kata kunci try and catch 
    class MathUtil {

        static sum (...numbers) {

            if (numbers.length === 0) {
                throw new ValidationError ('Total parameter harus lebih dari 0', 'number')
            }

            let result = 0
            for (const number of numbers) {
                result += number
            }

            return result

        }

    }

    try {
        console.info(MathUtil.sum()) //error 
        console.info('eko') //no errors
    } catch (error) {
        if (error instanceof ValidationError) {
            console.info(`Terjadi Error di field ${error.field} degan error ${error.message}`)
        } else {
            console.info(`Terjadi Error : ${error.message}`)
        } //output error
    } finally {
        console.info('Program Selesai') //mau error atau tidak blok finally akan terus di eksekusi 
    }

    console.info('kanedy') // outpun error and no errors


</script> 
</body>
</html>