<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error Handling</title>
</head>
<body>
    <!-- \
    Error Handling 
    - Saat terjadi error di kode pemrograman JavaScript, kadang kita tidak ingin program kita berhenti 
    - Di JavaScript, kita bisa menangkap jika terjadi error 
    - Kita bisa menggunakan try catch statement untuk menangkap error
    - Pada block try, kita akan akan mencoba mengakses kode program yang bisa menyebabkan error, dan jika terjadi error, block try akan berhenti dan otomatis masuk ke block catch
    - jika tidak terjadi error, block catch tidak akan dieksekusi 

    Kata Kunci Finally
    - Kadang kita ingin melakukan sesuatu entah itu terjadi error ataupun tidak
    - Dalam try catch, kita bisa menambahkan block finally
    - Block finally ini akan selalu dieksekusi setelah try catch selesai, entah terjadi error atau tidak, block finally akan selalu dieksekusi

    Try Finally
    - Kata kunci finally juga bisa digunakan tanpa perlu menggunakan catch
    - Biasanya ini digunakan dalam kasus tertentu
    -->
<script>

    // kata kunci try and catch 
    class MathUtil {

        static sum (...numbers) {

            if (numbers.length === 0) {
                throw new Error ('Total parameter harus lebih dari 0')
            }

            let result = 0
            for (const number of numbers) {
                result += number
            }

            return result

        }

    }

    try {
        console.info(MathUtil.sum()) //error 
        console.info('eko') //no errors
    } catch (error) {
        console.info(`Terjadi error bro : ${error.message}`) //output error
    } finally {
        console.info('Program Selesai') //mau error atau tidak blok finally akan terus di eksekusi 
    }

    console.info('kanedy') // outpun error and no errors


    // try finally
    class Counter {

        #counter = -7

        next(){
            try {
                return this.#counter
            } finally {
                this.#counter++
            }
        }

    }

    const counter = new Counter()
    console.info(counter.next())
    console.info(counter.next())
    console.info(counter.next())
    console.info(counter.next())
    console.info(counter.next())
    console.info(counter.next())
    console.info(counter.next())

</script>
</body>
</html>